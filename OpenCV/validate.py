import cv2
import numpy as np
import argparse

reference_r = [9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 18, 35, 56, 51, 58, 75, 78, 80, 84, 86, 89, 91, 92, 94, 106, 98, 113, 115, 117, 120, 122, 127, 128, 130, 131, 136, 138, 139, 141, 143, 144, 146, 152, 158, 150, 157, 164, 166, 169, 172, 174, 176, 178, 180, 183, 186, 188, 190, 191, 193, 200, 207, 204, 206, 209, 215, 221, 224, 226, 228, 230, 235, 240, 243, 246, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]

reference_g = [2, 2, 2, 2, 2, 2, 2, 2, 14, 26, 32, 42, 50, 63, 70, 75, 78, 82, 89, 94, 98, 103, 108, 113, 120, 127, 129, 131, 138, 146, 147, 149, 150, 154, 158, 168, 178, 194, 200, 205, 211, 232, 230, 235, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]

reference_b = [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 9, 14, 18, 20, 23, 25, 26, 28, 37, 37, 51, 54, 56, 54, 60, 65, 70, 71, 72, 74, 75, 78, 80, 82, 84, 85, 86, 88, 89, 90, 92, 93, 94, 96, 98, 101, 103, 101, 100, 98, 108, 113, 115, 117, 118, 119, 120, 121, 122, 124, 127, 129, 132, 136, 138, 141, 158, 174, 174, 184, 230, 221, 219, 225, 188, 150, 160, 171, 181, 192, 202, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]

ap=argparse.ArgumentParser()
ap.add_argument("-i","--image",required=True,help="path to the image")
args=vars(ap.parse_args())
image=cv2.imread(args["image"])
scaling_factor = 0.45
height=image.shape[0]
width =image.shape[1]
width *=scaling_factor
height *=scaling_factor
width=int(width)
height=int(height)
dim = (width,height)
image = cv2.resize(image, dim, interpolation = cv2.INTER_AREA)
cv2.imshow("incoming",image)
"""image_g = image.copy()
image_b = image.copy()
image_g[:,:,0]=0
image_g[:,:,2]=0
image_b[:,:,1]=0
image_b[:,:,2]=0
image[:,:,0]=0
image[:,:,1]=0 """
#cv2.imshow("incoming red layer",image)
#cv2.imshow("incoming green layer",image_g)
#cv2.imshow("incoming blue layer",image_b)
for i in range (height):
    for j in range (width):
        image[i,j,2] = reference_r[image[i,j,2]]
        image[i,j,1] = reference_g[image[i,j,1]]
        image[i,j,0] = reference_b[image[i,j,0]]
cv2.imshow("transformed",image)
reference = cv2.imread("/home/srikar/OpenCV/parrot.jpg")
reference = cv2.resize(reference, dim, interpolation = cv2.INTER_AREA)
cv2.imshow("reference",reference)
"""reference[:,:,0] = 0
reference[:,:,1] = 0
cv2.imshow("reference red",reference) """
diff = cv2.subtract(reference,image)
cv2.imshow("difference between planes",diff)
cv2.waitKey()

